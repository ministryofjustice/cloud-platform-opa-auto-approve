package test.terraform.analysis

mock_tfplan := {
	"variables": {"namespace": {"value": "jaskaran-dev"}},
	"resource_changes": [
		{
			"address": "aws_sns_topic_subscription.keyworker_api_subscription",
			"mode": "managed",
			"type": "aws_sns_topic_subscription",
			"name": "keyworker_api_subscription",
			"provider_config_key": "aws",
			"expressions": {
				"endpoint": {"references": ["test.arn"]},
				"filter_policy": {"constant_value": "{\"eventType\":[\"EXTERNAL_MOVEMENT_RECORD-INSERTED\"]}"},
				"protocol": {"constant_value": "sqs"},
				"topic_arn": {"references": [
					"module.offender_events.topic_arn",
					"module.offender_events",
				]},
			},
			"schema_version": 0,
		},
		{
			"address": "module.offender_events.aws_sns_topic.new_topic",
			"module_address": "module.offender_events",
			"mode": "managed",
			"type": "aws_sns_topic",
			"name": "new_topic",
			"provider_name": "registry.terraform.io/hashicorp/aws",
			"change": {
				"actions": ["create"],
				"before": null,
				"after": {
					"application_failure_feedback_role_arn": null,
					"application_success_feedback_role_arn": null,
					"application_success_feedback_sample_rate": null,
					"archive_policy": null,
					"content_based_deduplication": false,
					"delivery_policy": null,
					"display_name": "offender-events",
					"fifo_topic": false,
					"firehose_failure_feedback_role_arn": null,
					"firehose_success_feedback_role_arn": null,
					"firehose_success_feedback_sample_rate": null,
					"http_failure_feedback_role_arn": null,
					"http_success_feedback_role_arn": null,
					"http_success_feedback_sample_rate": null,
					"kms_master_key_id": null,
					"lambda_failure_feedback_role_arn": null,
					"lambda_success_feedback_role_arn": null,
					"lambda_success_feedback_sample_rate": null,
					"sqs_failure_feedback_role_arn": null,
					"sqs_success_feedback_role_arn": null,
					"sqs_success_feedback_sample_rate": null,
					"tags": {
						"application": "get familiar with cloud platform",
						"business-unit": "Platforms",
						"environment-name": "dev",
						"infrastructure-support": "jaskaran.sarkaria@digital.justice.gov.uk",
						"is-production": "false",
						"namespace": "jaskaran-dev",
						"owner": "webops",
					},
					"tags_all": {
						"application": "get familiar with cloud platform",
						"business-unit": "Platforms",
						"environment-name": "dev",
						"infrastructure-support": "jaskaran.sarkaria@digital.justice.gov.uk",
						"is-production": "false",
						"namespace": "jaskaran-dev",
						"owner": "webops",
					},
				},
				"after_unknown": {
					"arn": true,
					"beginning_archive_time": true,
					"id": true,
					"name": true,
					"name_prefix": true,
					"owner": true,
					"policy": true,
					"signature_version": true,
					"tags": {},
					"tags_all": {},
					"tracing_config": true,
				},
				"before_sensitive": false,
				"after_sensitive": {
					"tags": {},
					"tags_all": {},
				},
			},
		},
	],
}

mock_tfplan_update := {
	"variables": {"namespace": {"value": "jaskaran-dev"}},
	"resource_changes": [
		{
			"address": "aws_sns_topic_subscription.keyworker_api_subscription",
			"mode": "managed",
			"type": "aws_sns_topic_subscription",
			"name": "keyworker_api_subscription",
			"provider_config_key": "aws",
			"expressions": {
				"endpoint": {"references": ["test.arn"]},
				"filter_policy": {"constant_value": "{\"eventType\":[\"EXTERNAL_MOVEMENT_RECORD-INSERTED\"]}"},
				"protocol": {"constant_value": "sqs"},
				"topic_arn": {"references": [
					"module.offender_events.topic_arn",
					"module.offender_events",
				]},
			},
			"schema_version": 0,
		},
		{
			"address": "module.offender_events.aws_sns_topic.new_topic",
			"module_address": "module.offender_events",
			"mode": "managed",
			"type": "aws_sns_topic",
			"name": "new_topic",
			"provider_name": "registry.terraform.io/hashicorp/aws",
			"change": {
				"actions": ["update"],
				"before": {"display_name": "same"},
				"after": {
					"application_failure_feedback_role_arn": null,
					"application_success_feedback_role_arn": null,
					"application_success_feedback_sample_rate": null,
					"archive_policy": null,
					"content_based_deduplication": false,
					"delivery_policy": null,
					"display_name": "different",
					"fifo_topic": false,
					"firehose_failure_feedback_role_arn": null,
					"firehose_success_feedback_role_arn": null,
					"firehose_success_feedback_sample_rate": null,
					"http_failure_feedback_role_arn": null,
					"http_success_feedback_role_arn": null,
					"http_success_feedback_sample_rate": null,
					"kms_master_key_id": null,
					"lambda_failure_feedback_role_arn": null,
					"lambda_success_feedback_role_arn": null,
					"lambda_success_feedback_sample_rate": null,
					"sqs_failure_feedback_role_arn": null,
					"sqs_success_feedback_role_arn": null,
					"sqs_success_feedback_sample_rate": null,
					"tags": {
						"application": "get familiar with cloud platform",
						"business-unit": "Platforms",
						"environment-name": "dev",
						"infrastructure-support": "jaskaran.sarkaria@digital.justice.gov.uk",
						"is-production": "false",
						"namespace": "jaskaran-dev",
						"owner": "webops",
					},
					"tags_all": {
						"application": "get familiar with cloud platform",
						"business-unit": "Platforms",
						"environment-name": "dev",
						"infrastructure-support": "jaskaran.sarkaria@digital.justice.gov.uk",
						"is-production": "false",
						"namespace": "jaskaran-dev",
						"owner": "webops",
					},
				},
				"after_unknown": {
					"arn": true,
					"beginning_archive_time": true,
					"id": true,
					"name": true,
					"name_prefix": true,
					"owner": true,
					"policy": true,
					"signature_version": true,
					"tags": {},
					"tags_all": {},
					"tracing_config": true,
				},
				"before_sensitive": false,
				"after_sensitive": {
					"tags": {},
					"tags_all": {},
				},
			},
		},
	],
}
